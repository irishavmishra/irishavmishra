@import "tailwindcss";

/* ============================================
   FONTS (Loaded via CDN: Google Fonts + Fontshare)
   ============================================ */
/* Rethink Sans: https://fonts.googleapis.com/css2?family=Rethink+Sans */
/* Satoshi: https://api.fontshare.com/v2/css?f[]=satoshi */

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: 'Rethink Sans', 'Satoshi', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-mono: 'JetBrains Mono', 'SF Mono', 'SFMono-Regular', 'Consolas', 'Monaco', monospace;
  --font-arrow: 'Satoshi', 'Rethink Sans', system-ui, sans-serif;
}

:root {
  --radius: 0.625rem;
  --cb-bg: 224, 240, 242;
  --cb-fill: 0, 0, 0;
  --cb-highlight: 12, 62, 69;
  --color-bg: rgba(var(--cb-bg), 1);
  --color-fill: rgba(var(--cb-fill), 0.84);
  --color-fill-light: rgba(var(--cb-fill), 0.34);
  --color-bevel: rgba(var(--cb-fill), 0.69);
  --color-subtle-highlight: rgba(var(--cb-highlight), 0.69);
  --color-faint: color-mix(in srgb, var(--color-bg), transparent 34%);
  --size-xl: 4.5rem;
  --size-l: 3rem;
  --size-m: 1.5rem;
  --size-s: 1rem;
  --outerBreakpoint: 1920px;
  --innerBreakpoint: 1650px;
  --mobileBreakpoint: 1024px;
  --outerPad: min(7.5vw, 124px);
  --centerMargin: calc(50% - 4.3rem);
  --vertGapLarge: 11.5rem;
  --vertGap: 7.5rem;
  --innerPad: 5.25rem;
  --headerPadTop: 5.25rem;
  --headerPadBtm: 0rem;
  --headerHeight: calc(var(--headerPadTop) + var(--headerPadBtm));
  --mainCvGap: calc(var(--size-m) * 1.4);
  --cvGap: var(--mainCvGap);
  --cvSmallGap: calc(var(--mainCvGap) / 2);
  --linkLineSlide: cubic-bezier(0.57, 0, 0.12, 1);
  --linkLineSpeed: 0.21s;
  --linkBtnShowSpeed: 0.12s;
  --linkBtnBounceSpeed: 0.17s;
  --linkBtnBounce: cubic-bezier(0.34, 1.56, 0.62, 1.2);
  --slideTime: 0.39s;
  --headerBounce: cubic-bezier(0.12, 0.93, 0.42, 1.2);
  --plax: 0px;
  --enterDrift: 1.2em;
  --enterTiming: 0.48s;
  --enterBounce: cubic-bezier(0.42, 0, 0.21, 1);
  --dotSize: 12px;
  --colorSplitR: rgba(255, 34, 192, 0.93);
  --colorSplitB: rgba(24, 234, 255, 0.93);
  --colorSplitY: rgba(252, 237, 57, 1);
  --delayedStart: calc(var(--linkLineSpeed) * 0.48);
  --secondStepStart: calc(var(--delayedStart) + (var(--linkBtnShowSpeed) * 1.2));
  --doubleTime: calc(var(--linkBtnShowSpeed) * 2);
}

@layer base {
  * {
    box-sizing: border-box;
  }
  
  html, body {
    @apply h-full;
    font-size: 16px;
  }
  
  body {
    background: var(--color-bg);
    color: var(--color-fill);
    font-family: var(--font-sans);
    font-weight: 400;
    -webkit-font-smoothing: antialiased;
  }
  
  h1, h2.xl {
    font-size: clamp(var(--size-l), 4.76vw, 78px);
    font-weight: 700;
    line-height: 1.2;
    text-wrap: pretty;
  }
  
  h2 {
    font-size: var(--size-l);
    line-height: 1.3;
    text-wrap: balance;
  }
  
  h2.margin-sml {
    margin-block-end: var(--cvGap);
  }
  
  h3 {
    font-weight: 700;
  }
  
  p, h3 {
    font-size: var(--size-m);
  }
  
  p, .list li {
    line-height: 1.4;
    text-wrap: pretty;
  }
  
  .list {
    margin-block-end: var(--size-m);
  }
  
  .list li {
    font-size: var(--size-s);
  }
  
  h3 {
    line-height: 1.2;
  }
  
  h4 {
    font-size: var(--size-s);
    font-weight: 600;
    line-height: 1.4;
  }
  
  a, [role="button"] {
    color: inherit;
    cursor: pointer;
    position: relative;
    text-decoration: none;
  }
  
  a:not(.noline):before, [role="button"]:not(.noline):before {
    background: currentColor;
    bottom: 0;
    content: "";
    height: 1px;
    left: 0;
    position: absolute;
    transform-origin: center left;
    transition: transform var(--linkLineSpeed) var(--linkLineSlide);
    width: 100%;
    will-change: transform;
    z-index: 10;
  }
  
  a:not(.noline):hover:before, [role="button"]:not(.noline):hover:before,
  a:not(.noline).active:before, [role="button"]:not(.noline).active:before {
    transform: scaleX(0);
    transform-origin: center right;
  }
  
  ol, ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  
  img {
    border: none;
    display: block;
    margin: 0;
  }
  
  code {
    font-family: var(--font-mono);
    font-weight: 400;
  }
}

@layer components {
  .arrow {
    font-family: var(--font-arrow);
  }
  
  .tag {
    backdrop-filter: saturate(142%) blur(20px);
    background: color-mix(in srgb, #fff, transparent 75%);
    border-radius: 0.43em;
    box-shadow: #00000012 0 0 0 1px, inset #ffffff1f 1px 1px, inset #ffffff57 0 1px 6px;
    font-size: var(--size-s);
    margin-inline-end: 0.2em;
    padding: 0.2em 0.6em;
    position: relative;
    top: -0.1em;
  }
  
  .tag:has(.emoji) {
    padding: 0.2em 0.4em 0.2em 0.6em;
  }
  
  .emoji:not(.color) {
    filter: saturate(0);
  }
  
  .emoji.invert {
    filter: saturate(0) invert(1);
  }
  
  .list .emoji {
    margin-inline-end: 0.5em;
  }
  
  .wrap {
    margin: 0 auto;
    max-width: var(--innerBreakpoint);
    padding: 0 var(--outerPad);
  }
  
  .push {
    margin-inline-start: var(--centerMargin);
  }
  
  .pull {
    width: 75%;
  }
  
  [class*="cluster"], [class*="stack"] {
    --cluster-gap: 0.5em;
    --stack-gap: 0.5em;
    display: flex;
    flex-wrap: nowrap;
  }
  
  .cluster {
    align-items: center;
    flex-direction: row;
    gap: var(--cluster-gap);
  }
  
  .cluster\:wrap {
    flex-wrap: wrap;
  }
  
  .stack {
    flex-direction: column;
    gap: var(--stack-gap);
  }
}

@layer utilities {
  .jelly {
    cursor: pointer;
    display: inline-block;
    font-size: var(--size-m);
    position: relative;
    transform: scale(1);
    transition: transform 0.17s ease;
    user-select: none;
  }
  
  .jelly:before {
    backdrop-filter: saturate(142%) blur(20px);
    background: color-mix(in srgb, var(--color-bg), transparent 39%);
    border-radius: 0.43em;
    box-shadow: #00000008 0 3px, #00000008 0 0 0 1px, #00000036 0 3px 66px, inset #ffffff1f 1px 2px, inset #ffffff57 0 2px 12px;
    content: "";
    inset: -0.62em -0.75em;
    position: absolute;
    transition: box-shadow 0.21s ease;
    z-index: -1;
  }
  
  .jelly:active {
    transform: scale(0.984);
  }
  
  .jelly:active:before {
    box-shadow: #0000000a 0 1px, #00000008 0 0 0 1px, #0000002b 0 1px 66px, inset #ffffff1f 1px 2px, inset #ffffff57 0 2px 12px;
  }
  
  .drift {
    opacity: 0;
    position: relative;
    transform: translateX(var(--enterDrift));
    transition: transform var(--enterTiming) var(--enterBounce), opacity var(--enterTiming) ease;
    will-change: transform, opacity;
  }
  
  .drift.left {
    transform: translateX(var(--enterDrift));
  }
  
  .drift.right {
    transform: translateX(calc(var(--enterDrift) * -1));
  }
  
  .loaded .drift:not(.onscroll),
  .loaded .drift.onscroll.shown,
  .loaded .shown .drift.onscroll {
    opacity: 1;
    transform: translateX(0);
  }
  
  .loaded .drift.right {
    transform: translateX(0);
  }
  
  .noline {
    text-decoration: none;
  }
  
  .noline:before {
    display: none;
  }
}

/* Responsive */
@media screen and (max-width: 1024px) {
  * {
    -webkit-tap-highlight-color: transparent;
  }
  
  header .push {
    margin-inline-start: 0;
  }
  
  main section.push {
    margin-inline-start: 0;
  }
  
  main section.pull {
    width: 100%;
  }
  
  .pull[data-section="specialty"] {
    max-width: none;
  }
  
  h2 {
    text-wrap: pretty;
  }
}

@media screen and (max-width: 768px) {
  :root {
    --size-l: 2.1rem;
    --size-m: 1.25rem;
    --headerPadTop: 3.4rem;
    --vertGapLarge: 7.5rem;
    --vertGap: 5.7rem;
  }
  
  a.brilliant:before {
    display: none;
  }
  
  a.brilliant:after {
    transform: scaleX(1);
    transform-origin: center left;
    transition: transform var(--doubleTime) var(--secondStepStart) ease;
  }
  
  footer {
    padding-block-end: calc(var(--innerPad) / 2);
  }
  
  footer .wrap {
    flex-direction: column;
    gap: 1em;
  }
}

@media screen and (min-width: 1650px) {
  .mast h1 {
    padding-inline-end: 20%;
  }
}

@media screen and (min-width: 1920px) {
  .mast {
    border-radius: 0 0 1em;
  }
  
  .mast:after {
    background: transparent;
    border-radius: 0 0 1em;
    bottom: 0;
    box-shadow: inset var(--color-bevel) -1px 0 0, inset var(--color-bevel) 0 -1px 0;
    height: auto;
    top: 0;
  }
}